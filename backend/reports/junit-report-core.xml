<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="3" skipped="27" tests="107" time="4.727" timestamp="2025-11-28T12:29:30.677636+00:00" hostname="Cashs-MacBook-Pro.local"><testcase classname="backend.apps.core.tests.test_models.TestUserModel" name="test_create_user" time="0.191" /><testcase classname="backend.apps.core.tests.test_models.TestUserModel" name="test_user_str_representation" time="0.010"><failure message="AssertionError: assert 'Test User (user)' == 'testuser_b6668a14'&#10;  &#10;  #x1B[0m#x1B[91m- testuser_b6668a14#x1B[39;49;00m#x1B[90m#x1B[39;49;00m&#10;  #x1B[92m+ Test User (user)#x1B[39;49;00m#x1B[90m#x1B[39;49;00m">tests/test_models.py:20: in test_user_str_representation
    assert str(user) == user_data['username']
E   AssertionError: assert 'Test User (user)' == 'testuser_b6668a14'
E     
E     #x1B[0m#x1B[91m- testuser_b6668a14#x1B[39;49;00m#x1B[90m#x1B[39;49;00m
E     #x1B[92m+ Test User (user)#x1B[39;49;00m#x1B[90m#x1B[39;49;00m</failure></testcase><testcase classname="backend.apps.core.tests.test_models.TestUserModel" name="test_user_roles_property" time="0.006" /><testcase classname="backend.apps.core.tests.test_models.TestUserModel" name="test_user_roles_empty_azure_ad" time="0.008" /><testcase classname="backend.apps.core.tests.test_models.TestUserModel" name="test_user_has_role" time="0.005" /><testcase classname="backend.apps.core.tests.test_models.TestUserModel" name="test_user_has_any_role" time="0.006" /><testcase classname="backend.apps.core.tests.test_models.TestUserModel" name="test_user_unique_username" time="0.012" /><testcase classname="backend.apps.core.tests.test_models.TestUserModel" name="test_user_unique_email" time="0.006" /><testcase classname="backend.apps.core.tests.test_models.TestUserModel" name="test_admin_user_role" time="0.005" /><testcase classname="backend.apps.core.tests.test_models.TestUserModel" name="test_user_auto_timestamps" time="0.006" /><testcase classname="backend.apps.core.tests.test_models.TestEventModel" name="test_create_event" time="0.009" /><testcase classname="backend.apps.core.tests.test_models.TestEventModel" name="test_event_default_status" time="0.005" /><testcase classname="backend.apps.core.tests.test_models.TestEventModel" name="test_event_retry_count_default" time="0.007" /><testcase classname="backend.apps.core.tests.test_models.TestEventModel" name="test_event_processed_at_nullable" time="0.005" /><testcase classname="backend.apps.core.tests.test_models.TestAuditLogModel" name="test_create_audit_log" time="0.017" /><testcase classname="backend.apps.core.tests.test_models.TestAuditLogModel" name="test_audit_log_without_user" time="0.006" /><testcase classname="backend.apps.core.tests.test_models.TestAuditLogModel" name="test_audit_log_with_old_and_new_values" time="0.006" /><testcase classname="backend.apps.core.tests.test_models.TestFavoriteModel" name="test_create_favorite" time="0.014" /><testcase classname="backend.apps.core.tests.test_models.TestFavoriteModel" name="test_favorite_str_representation" time="0.009" /><testcase classname="backend.apps.core.tests.test_models.TestFavoriteModel" name="test_favorite_unique_constraint" time="0.006" /><testcase classname="backend.apps.core.tests.test_models.TestFavoriteModel" name="test_favorite_with_subtitle" time="0.008" /><testcase classname="backend.apps.core.tests.test_models.TestFavoriteModel" name="test_cascade_delete_on_user" time="0.108" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestSystemAdminPermissions" name="test_admin_can_read_all_accounts" time="0.857" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestSystemAdminPermissions" name="test_admin_can_create_account" time="0.025" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestSystemAdminPermissions" name="test_admin_can_delete_across_all_sites" time="0.097" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestSystemAdminPermissions" name="test_admin_can_access_sensitive_hr_data" time="0.023" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestSystemAdminPermissions" name="test_admin_can_approve_invoices" time="0.093" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestExecutiveViewerPermissions" name="test_executive_can_read_all_accounts" time="0.062" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestExecutiveViewerPermissions" name="test_executive_can_read_all_projects" time="0.078" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestExecutiveViewerPermissions" name="test_executive_can_read_invoices" time="0.087" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestExecutiveViewerPermissions" name="test_executive_can_read_employees" time="0.033" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestExecutiveWriteRestrictions" name="test_executive_cannot_create_account" time="0.001"><skipped type="pytest.skip" message="RBAC not enforced - Executive should be read-only">/Users/cash/ConstructOS/backend/apps/core/tests/test_rbac_permissions.py:187: RBAC not enforced - Executive should be read-only</skipped></testcase><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestExecutiveWriteRestrictions" name="test_executive_cannot_delete_records" time="0.001"><skipped type="pytest.skip" message="RBAC not enforced - Executive should be read-only">/Users/cash/ConstructOS/backend/apps/core/tests/test_rbac_permissions.py:199: RBAC not enforced - Executive should be read-only</skipped></testcase><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestExecutiveWriteRestrictions" name="test_executive_cannot_modify_invoice_status" time="0.001"><skipped type="pytest.skip" message="RBAC not enforced - Executive should be read-only">/Users/cash/ConstructOS/backend/apps/core/tests/test_rbac_permissions.py:206: RBAC not enforced - Executive should be read-only</skipped></testcase><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestFinanceManagerPermissions" name="test_finance_can_read_all_invoices" time="0.073" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestFinanceManagerPermissions" name="test_finance_can_modify_invoices" time="0.030" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestFinanceManagerPermissions" name="test_finance_can_read_payments" time="0.024" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestFinanceManagerPermissions" name="test_finance_can_read_accounts" time="0.052" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestFinanceSoDRestrictions" name="test_finance_cannot_access_sensitive_hr_records" time="0.001"><skipped type="pytest.skip" message="SoD not enforced - Finance cannot access sensitive HR data">/Users/cash/ConstructOS/backend/apps/core/tests/test_rbac_permissions.py:271: SoD not enforced - Finance cannot access sensitive HR data</skipped></testcase><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestFinanceSoDRestrictions" name="test_finance_cannot_modify_payroll" time="0.001"><skipped type="pytest.skip" message="SoD not enforced - Finance cannot modify payroll">/Users/cash/ConstructOS/backend/apps/core/tests/test_rbac_permissions.py:278: SoD not enforced - Finance cannot modify payroll</skipped></testcase><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestHRSpecialistPermissions" name="test_hr_can_read_all_employees" time="0.028" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestHRSpecialistPermissions" name="test_hr_can_access_employee_details" time="0.021" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestHRSpecialistPermissions" name="test_hr_can_modify_employees" time="0.021" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestHRSpecialistPermissions" name="test_hr_can_read_payroll" time="0.047" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestHRSoDRestrictions" name="test_hr_cannot_approve_invoices" time="0.001"><skipped type="pytest.skip" message="SoD not enforced - HR cannot approve invoices">/Users/cash/ConstructOS/backend/apps/core/tests/test_rbac_permissions.py:344: SoD not enforced - HR cannot approve invoices</skipped></testcase><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestHRSoDRestrictions" name="test_hr_cannot_modify_invoice_payment_status" time="0.001"><skipped type="pytest.skip" message="SoD not enforced - HR cannot modify payments">/Users/cash/ConstructOS/backend/apps/core/tests/test_rbac_permissions.py:355: SoD not enforced - HR cannot modify payments</skipped></testcase><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestSalesRepPermissions" name="test_sales_can_view_own_leads" time="0.019" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestSalesRepPermissions" name="test_sales_can_edit_own_leads" time="0.018" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestSalesRepPermissions" name="test_sales_can_view_own_opportunities" time="0.043" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestSalesRepPermissions" name="test_sales_can_read_products" time="0.047" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestSalesRepPermissions" name="test_sales_can_read_accounts" time="0.053" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestSalesOwnershipRestrictions" name="test_sales_cannot_view_other_leads" time="0.001"><skipped type="pytest.skip" message="Ownership filter not enforced on leads">/Users/cash/ConstructOS/backend/apps/core/tests/test_rbac_permissions.py:434: Ownership filter not enforced on leads</skipped></testcase><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestSalesOwnershipRestrictions" name="test_sales_cannot_edit_other_leads" time="0.001"><skipped type="pytest.skip" message="Ownership filter not enforced on leads">/Users/cash/ConstructOS/backend/apps/core/tests/test_rbac_permissions.py:441: Ownership filter not enforced on leads</skipped></testcase><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestSalesOwnershipRestrictions" name="test_sales_cannot_view_other_opportunities" time="0.001"><skipped type="pytest.skip" message="Ownership filter not enforced on opportunities">/Users/cash/ConstructOS/backend/apps/core/tests/test_rbac_permissions.py:452: Ownership filter not enforced on opportunities</skipped></testcase><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestSiteManagerPermissions" name="test_site_manager_can_read_projects" time="0.082" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestSiteManagerPermissions" name="test_site_manager_can_view_assigned_project" time="0.026" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestSiteManagerPermissions" name="test_site_manager_can_edit_managed_project" time="0.030" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestSiteManagerPermissions" name="test_site_manager_can_read_equipment" time="0.039" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestSiteManagerPermissions" name="test_site_manager_can_read_stock" time="0.047" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestSiteManagerGeographicRestrictions" name="test_site_manager_cannot_view_other_site_projects" time="0.001"><skipped type="pytest.skip" message="Geographic scope filter not enforced on projects">/Users/cash/ConstructOS/backend/apps/core/tests/test_rbac_permissions.py:518: Geographic scope filter not enforced on projects</skipped></testcase><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestSiteManagerGeographicRestrictions" name="test_site_manager_cannot_edit_other_site_projects" time="0.001"><skipped type="pytest.skip" message="Geographic scope filter not enforced on projects">/Users/cash/ConstructOS/backend/apps/core/tests/test_rbac_permissions.py:525: Geographic scope filter not enforced on projects</skipped></testcase><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestFieldWorkerPermissions" name="test_field_worker_can_read_projects" time="0.086" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestFieldWorkerPermissions" name="test_field_worker_can_read_equipment" time="0.032" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestFieldWorkerPermissions" name="test_field_worker_can_read_safety_inspections" time="0.023" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestFieldWorkerRestrictions" name="test_field_worker_cannot_edit_projects" time="0.001"><skipped type="pytest.skip" message="Field worker edit restrictions not enforced">/Users/cash/ConstructOS/backend/apps/core/tests/test_rbac_permissions.py:579: Field worker edit restrictions not enforced</skipped></testcase><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestFieldWorkerRestrictions" name="test_field_worker_cannot_access_financial_data" time="0.001"><skipped type="pytest.skip" message="Field worker financial access not enforced">/Users/cash/ConstructOS/backend/apps/core/tests/test_rbac_permissions.py:590: Field worker financial access not enforced</skipped></testcase><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestWarehouseClerkPermissions" name="test_warehouse_clerk_can_read_stock" time="0.025" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestWarehouseClerkPermissions" name="test_warehouse_clerk_can_read_products" time="0.033" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestWarehouseClerkPermissions" name="test_warehouse_clerk_can_read_warehouses" time="0.016" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestWarehouseClerkRestrictions" name="test_warehouse_clerk_cannot_access_other_warehouse" time="0.001"><skipped type="pytest.skip" message="Warehouse location filter not enforced">/Users/cash/ConstructOS/backend/apps/core/tests/test_rbac_permissions.py:639: Warehouse location filter not enforced</skipped></testcase><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestWarehouseClerkRestrictions" name="test_warehouse_clerk_cannot_access_accounts" time="0.001"><skipped type="pytest.skip" message="Warehouse role cannot access accounts">/Users/cash/ConstructOS/backend/apps/core/tests/test_rbac_permissions.py:647: Warehouse role cannot access accounts</skipped></testcase><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestSubcontractorPermissions" name="test_subcontractor_can_view_own_account" time="0.022" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestSubcontractorPermissions" name="test_subcontractor_can_read_projects" time="0.082" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestSubcontractorRestrictions" name="test_subcontractor_cannot_view_other_accounts" time="0.001"><skipped type="pytest.skip" message="External user ownership filter not enforced">/Users/cash/ConstructOS/backend/apps/core/tests/test_rbac_permissions.py:692: External user ownership filter not enforced</skipped></testcase><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestSubcontractorRestrictions" name="test_subcontractor_cannot_access_internal_data" time="0.001"><skipped type="pytest.skip" message="External user restrictions not enforced">/Users/cash/ConstructOS/backend/apps/core/tests/test_rbac_permissions.py:700: External user restrictions not enforced</skipped></testcase><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestClientPermissions" name="test_client_can_view_own_account" time="0.023" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestClientPermissions" name="test_client_can_read_own_projects" time="0.031" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestClientRestrictions" name="test_client_cannot_view_other_accounts" time="0.001"><skipped type="pytest.skip" message="Client account ownership not enforced">/Users/cash/ConstructOS/backend/apps/core/tests/test_rbac_permissions.py:746: Client account ownership not enforced</skipped></testcase><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestClientRestrictions" name="test_client_cannot_view_other_projects" time="0.001"><skipped type="pytest.skip" message="Client project ownership not enforced">/Users/cash/ConstructOS/backend/apps/core/tests/test_rbac_permissions.py:754: Client project ownership not enforced</skipped></testcase><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestClientRestrictions" name="test_client_cannot_modify_projects" time="0.001"><skipped type="pytest.skip" message="Client edit restrictions not enforced">/Users/cash/ConstructOS/backend/apps/core/tests/test_rbac_permissions.py:762: Client edit restrictions not enforced</skipped></testcase><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestClientRestrictions" name="test_client_cannot_access_internal_data" time="0.001"><skipped type="pytest.skip" message="Client internal data access not enforced">/Users/cash/ConstructOS/backend/apps/core/tests/test_rbac_permissions.py:774: Client internal data access not enforced</skipped></testcase><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestUnauthenticatedAccess" name="test_unauthenticated_cannot_access_accounts" time="0.000"><skipped type="pytest.skip" message="Authentication not enforced on API endpoints">/Users/cash/ConstructOS/backend/apps/core/tests/test_rbac_permissions.py:790: Authentication not enforced on API endpoints</skipped></testcase><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestUnauthenticatedAccess" name="test_unauthenticated_cannot_access_projects" time="0.001"><skipped type="pytest.skip" message="Authentication not enforced on API endpoints">/Users/cash/ConstructOS/backend/apps/core/tests/test_rbac_permissions.py:796: Authentication not enforced on API endpoints</skipped></testcase><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestUnauthenticatedAccess" name="test_unauthenticated_cannot_access_invoices" time="0.001"><skipped type="pytest.skip" message="Authentication not enforced on API endpoints">/Users/cash/ConstructOS/backend/apps/core/tests/test_rbac_permissions.py:802: Authentication not enforced on API endpoints</skipped></testcase><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestUnauthenticatedAccess" name="test_unauthenticated_cannot_access_employees" time="0.001"><skipped type="pytest.skip" message="Authentication not enforced on API endpoints">/Users/cash/ConstructOS/backend/apps/core/tests/test_rbac_permissions.py:808: Authentication not enforced on API endpoints</skipped></testcase><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestUnauthenticatedAccess" name="test_unauthenticated_cannot_access_leads" time="0.001"><skipped type="pytest.skip" message="Authentication not enforced on API endpoints">/Users/cash/ConstructOS/backend/apps/core/tests/test_rbac_permissions.py:814: Authentication not enforced on API endpoints</skipped></testcase><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestSegregationOfDuties" name="test_finance_can_modify_invoices" time="0.031" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestSegregationOfDuties" name="test_hr_can_modify_employees" time="0.023" /><testcase classname="backend.apps.core.tests.test_rbac_permissions.TestRBACTestCoverage" name="test_rbac_coverage_summary" time="0.006" /><testcase classname="backend.apps.core.tests.test_views.TestAuthMeView" name="test_auth_me_unauthenticated" time="0.011"><failure message="assert 401 == 200&#10; +  where 401 = &lt;Response status_code=401, &quot;application/json&quot;&gt;.status_code&#10; +  and   200 = status.HTTP_200_OK">tests/test_views.py:29: in test_auth_me_unauthenticated
    assert response.status_code == status.HTTP_200_OK
E   assert 401 == 200
E    +  where 401 = &lt;Response status_code=401, "application/json"&gt;.status_code
E    +  and   200 = status.HTTP_200_OK</failure></testcase><testcase classname="backend.apps.core.tests.test_views.TestUnifiedSearchView" name="test_search_empty_query" time="0.007" /><testcase classname="backend.apps.core.tests.test_views.TestUnifiedSearchView" name="test_search_short_query" time="0.007" /><testcase classname="backend.apps.core.tests.test_views.TestUnifiedSearchView" name="test_search_with_results" time="0.042" /><testcase classname="backend.apps.core.tests.test_views.TestUnifiedSearchView" name="test_search_products" time="0.020" /><testcase classname="backend.apps.core.tests.test_views.TestUserViewSet" name="test_list_users_authenticated" time="0.025" /><testcase classname="backend.apps.core.tests.test_views.TestUserViewSet" name="test_create_user_authenticated" time="0.018"><failure message="assert 400 == 201&#10; +  where 400 = &lt;Response status_code=400, &quot;application/json&quot;&gt;.status_code&#10; +  and   201 = status.HTTP_201_CREATED">tests/test_views.py:95: in test_create_user_authenticated
    assert response.status_code == status.HTTP_201_CREATED
E   assert 400 == 201
E    +  where 400 = &lt;Response status_code=400, "application/json"&gt;.status_code
E    +  and   201 = status.HTTP_201_CREATED</failure></testcase><testcase classname="backend.apps.core.tests.test_views.TestUserViewSet" name="test_get_user_detail_authenticated" time="0.015" /><testcase classname="backend.apps.core.tests.test_views.TestUserViewSet" name="test_update_user_authenticated" time="0.015" /><testcase classname="backend.apps.core.tests.test_views.TestUserViewSet" name="test_delete_user_authenticated" time="0.030" /><testcase classname="backend.apps.core.tests.test_views.TestEventViewSet" name="test_list_events" time="0.029" /><testcase classname="backend.apps.core.tests.test_views.TestEventViewSet" name="test_create_event" time="0.009" /><testcase classname="backend.apps.core.tests.test_views.TestAuditLogViewSet" name="test_list_audit_logs" time="0.017" /><testcase classname="backend.apps.core.tests.test_views.TestAuditLogViewSet" name="test_cannot_create_audit_log_via_api" time="0.008" /><testcase classname="backend.apps.core.tests.test_views.TestFavoriteViewSet" name="test_list_favorites" time="0.014" /><testcase classname="backend.apps.core.tests.test_views.TestFavoriteViewSet" name="test_create_favorite" time="0.016" /><testcase classname="backend.apps.core.tests.test_views.TestFavoriteViewSet" name="test_filter_favorites_by_user" time="0.016" /><testcase classname="backend.apps.core.tests.test_views.TestFavoriteViewSet" name="test_delete_favorite" time="0.017" /></testsuite></testsuites>